<%= stylesheet_link_tag 'views/home', 'media' => 'all', 'data-turbo-track': 'reload' %>
<div class="center">
  <section class="logo-container">
    <%= image_tag 'scuba_diving_logo.png', alt: 'Scuba Diving Spots Logo', class: 'logo-image' %>
    <h1 class="logo-text">ScubaDivingSpots</h1>
  </section>

  <section id="map" class="custom-container">
    <h1>日本地図</h1>
    <div id="jmap" data-controller="home">
      <div class="jmap-infobox">
        <h3>ダイビングポイント</h3>
        <p>地図をクリックするとダイビングスポットが表示されます。</p>
      </div>
    </div>
  </section>

  <section class="custom-container">
    <h1>都道府県一覧から探す</h1>
    <div class="prefectures-container">
      <% @prefectures.each do |prefecture| %>
        <div class="prefecture-item">
          <%= link_to prefecture.name, prefecture_path(prefecture), class: "prefecture-link" %>
        </div>
      <% end %>
    </div>
  </section>

  <section class="custom-container">
    <h1>生き物を探す</h1>
    <div class="search_form">
      <%= form_with url: creature_search_path, method: :get, local: true do %>
        <div class="form-group">
          <%= label_tag :query, "生き物の名前" %>
          <%= text_field_tag :query, params[:query], class: "form-control" %>
        </div>
        <div class="form-group">
          <%= submit_tag "検索", class: "btn btn-primary" %>
        </div>
      <% end %>
    </div>


    <h2>生き物一覧</h2>
    <div class="container creatures-list">
      <div class="row">
        <% @creatures.each_with_index do |creature, index| %>
          <div class="col-md-4">
            <div class="creature-item">
              <%= image_tag creature.photo.url(:thumb), class: 'creature-image' if creature.photo.present? %>
              <h3><%= link_to creature.name, creature_path(creature), class: "creature-link" %></h3>
              <p><%= creature.description %></p>
            </div>
          </div>

          <%# Row の区切りを作成するために3列ごとに新しい行を作成 %>
          <% if (index + 1) % 3 == 0 %>
            </div><div class="row">
          <% end %>
        <% end %>
      </div>
    </div>
  </section>
</div>
